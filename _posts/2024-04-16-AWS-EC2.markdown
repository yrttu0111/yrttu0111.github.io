---
layout: post
title: "AWS"
date: 2024-04-16 14:32:16 +0900
categories: "AWS SAA"
---

AWS SAA

IAM (global)
사용자 생성 및 권한 무여

생성시 루트 사용자

그 후 사용자 생성해야함

그룹으로 묶어 권한을 줄수 있다.
중복 그룹으로 부여 가능

최소 권한의 원칙 - 사용하는 만큼만 권한을 주자

IAM -> USER -> 유저 생성

mfa -> like otp
가상과 물리적 이 있음

amazone sdk
cli 로 가능하게 cloud shell 로도 가능하다

access key

iam role

IAM의 credential report 를 통해 유저들의 정보나 mfa 설정, 비밀번호 변경
활동 등 css 파일로 다운받아서 모니터링 가능하다

요약 iam 사용자는 회사 내의 실제 물리적 사용자와 매핑되어야 하며
AWS 콜솔 비밀번호를 가질수 있고
그룹화 할 수 있다. 역할도 만들 수 있다.
보안을 위해 MFA를 활성화 할 수 있다.

billing 에서 budget은 알림
과금 될때 이메일로 알림을 보낼 수도
월단위로 금액을 설정해둘 수도 있다

# EC2

엘라스틱 컴퓨트 칼라우트
Infrastructure as a Service
가상 머신을 임대 할 수 있다. EC2 인스턴스
데이터를 저장할 수 있는 가상 드라이브 또는 EBS 볼륨에 저장 할 수 있다.
엘라스틱 로드 밸런서로 (ELB) 로드 분산시킬 수 있다.
오토스케이링 그룹 (ASG)을 통해 서비스 확장 가능.

ec2 os linux window mac
cpu ram stoage 선택
인스턴트에 연결한 네트워크 종류 선택, 속도가 빠른 네트워크 카드
어떤 종류의 공용 ip
방화벽 선택 -> 보안그룹
인스턴스를 구성하기 위한 부트스트랩 스크립트

원하는 데로 vm 설정해 구성 가능

부트스트래핑
머신이 작동될 대 명령을 시작하는 것
부팅 작업을 자동화 하기때문에 부트스트래핑 이라함
업데이트, 소프트웨어 설치

사용자 데이터 스크립트는 루트 계정에서 실행됨
따라서 모든 명령문은 sudo를 사용

## 인스턴스 종류

m5.2xlarge
m: 인스턴스 클래스
5: 세대
2xlarge: 사이즈

범용 인스턴스 generic
컴퓨팅 메모리 네트워킹 간의 균형
t시리즈 M 시리즈 등 있음

고성능 프로세스 compute optimaized
컴퓨터 집약적인 작업에 최적화된 인스턴스
High performance computing 머신러닝 전용 게임서버등 에 사용 하면 좋음
cpu 굳
c 시리즈

메모리 최적화 Memory optimized
RAM
고성능의 관계 비관계형 데이터 베이스
엘라스틱 캐시를 예로 들수 있는 분산 웹스케일 캐시 저장소에도 사용
비지니스 인텔리전스 BI 에 최적화된 in memori db 와 대규모 비정형 데이터의 실시간 처리를 실행하는 어플리케이션에서도 사용
R시리즈 x1 high memori

스토리지 최적화 인스턴스
로컬 스토리지에서 대규모의 데이터 셋에 액세스할 때 적합한 인스턴스
high frequency 온라인 트랜잭션 처리인 OLTP 시스템에 사용되며
관계형과 비관계형인 noSQL db에서 사용
예를 들어 레디스 같은 메모리 데이터 베이스의 캐시나 데이터 웨어하우징 애플리케이션과 분산 파일 시스템에 사용
I, d H1시리즈 사용

## 방화벽

보안 그룹
ec2 인스턴스에 접근 할 수 있는 ip 허용
inbound 인스턴스로 들어오는 네트워크 통제
outbound 인스턴스에서 외부로 나가는 아웃바운드 네트워크 통제
여러 인스턴스에 연결할 수 있으며
보안 그룹과 인스턴스 간의
일대일 관계는 없다. 인스턴스에도 여러 보안 그룹을 연결할 수 있다.
보안 그룸은 지역과 vpc 결합으로 통제되어 있다.
지역을 전환 하면 새 보안 그룹을 생성 하거나 다른 VPC를 생성해야 한다.
SSH 나 특별한 보안 규칙은 따로 보안 그룹을 생성해주는게 좋다.

보안그룹이 보안그룹을 참조?

### Classic ports

22 = SSH (Secure shell)
21 = FTP (File Transfer Protocol) 파일 업로드시 사용
22 = SFTP (Secure File Transfer Protocol) - upload files using SSH
엇 22 는 SSH 아니였나요!?!?
SSH를 사용해서 업로드 하기 때문이고 보안 파일 전송 프로토콜이 되기 때문
80 = HTTP
443 = HTTPS
3389 Remote Desktop Protocol - log into a window instace
우분투에서 윈도우 원격 사용했을 때 3389 포트 사용했었는데
3306 MySQL
등등등

타임아웃 -> 보안그룹 문제일 것이다!
